from __future__ import annotations
from datetime import date
from typing import List, Optional, Protocol, runtime_checkable
from core.application.read_models.poste_coverage_day_rm import TrancheCoverageRM
from core.domain.entities.poste import Poste


@runtime_checkable
class PosteRepositoryPort(Protocol):
    def count(self) -> int: ...
    def create(self, entity: Poste) -> Poste: ...
    def delete(self, object_id: int) -> bool: ...
    def get_by_id(self, poste_id: int) -> Optional[Poste]: ...
    def get_coverage_for_day(self, *, poste_id: int, day_date: date) -> list[TrancheCoverageRM]: ...
    def list(self, *, limit: Optional[int] = None, offset: int = 0) -> List[Poste]: ...
    def list_all(self) -> List[Poste]: ...
    def update(self, entity: Poste) -> Optional[Poste]: ...