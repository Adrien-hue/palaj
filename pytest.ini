[pytest]
minversion = 7.0

testpaths =
    tests

python_files =
    test_*.py

addopts =
    -ra
    --cov=core
    --cov=backend
    --cov-report=term-missing
    --cov-fail-under=80

markers =
    unit: tests unitaires (rapides, sans DB)
    integration: tests avec DB / services / repos
    flow: tests end-to-end backend (auth, RBAC, flows m√©tier)
    slow: tests lents (sleep, multi-clients, etc.)
